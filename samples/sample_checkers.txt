GAME checkers

DEFINE checkers:
     BOARD (8, 8, "checker")
     PLAYERS (me, you) 
     PIECES (regular, king)
     OBSTACLES (NONE)
     BOOSTERS (NONE)
     CONDITIONS (ANY)
     RULES (ALL)
     TIMER(1800)
END

DEFINE checkers.PLAYERS:
     PLAYER me COLOR COLOR.white AT BOARD.ROW.1
     PLAYER you COLOR COLOR.black AT BOARD.ROW.8 
     ORDER ([me, you])
END

DEFINE checkers.CONDITIONS:
     CONDITION (ANY PLAYERS PIECES.COUNT == 0)
END

DEFINE checkers.RULES :
     RULE promote_rule_white (IF ANY regular AT BOARD.ROW.8 AND regular.color == white 
                              THEN regular CONVERT king 
                              END)
     RULE promote_rule_black (IF ANY regular AT BOARD.ROW.1 AND regular.color == black 
                              THEN regular CONVERT king 
                              END)
END

DEFINE checkers.PIECES:
     PIECE regular COUNT 12
     PIECE king COUNT 0

     PIECE regular ACTION (name = move, direction = diagonal, min_count = 1, max_count = 1, skip = True, across = False, backtrack = False, consume = False)
     PIECE regular ACTION (name = consume, direction = diagonal, min_count = 1, max_count = 1, skip = True, across = False, backtrack = False, consume = True)

     PIECE king ACTION (name = move, direction = diagonal, min_count = 1, skip = True, across = True, backtrack = True, consume = False)
     PIECE king ACTION (name = consume, direction = diagonal, min_count = 1, skip = True, across = True, backtrack = True, consume = True)
END

DEFINE checkers.BOARD:
     PLAYER me PIECE regular SETUP (BOARD.C1, BOARD.C3)
     PIECE regular SETUP (BOARD.C1, BOARD.C4) 
END

START:
     TURN white
     MOVE regular_1 TO BOARD.E4

     TURN black
     MOVE regular_1 TO BOARD.F7
END